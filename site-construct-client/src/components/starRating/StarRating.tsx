import React, { useState } from 'react';

const filledStar = (
    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.4498 10.9813L14.9132 4.00499C15.3578 3.10942 16.6422 3.10942 17.0868 4.00499L20.5502 10.9813L28.2953 12.1069C29.289 12.2513 29.6851 13.4658 28.9657 14.1625L23.3623 19.589L24.6847 27.2552C24.8545 28.2397 23.8152 28.9904 22.926 28.5255L16 24.904L9.07395 28.5255C8.18479 28.9904 7.14544 28.2397 7.31526 27.2552L8.63766 19.589L3.03432 14.1625C2.31489 13.4658 2.71095 12.2513 3.70469 12.1069L11.4498 10.9813Z" fill="#FFA600"/>
        <path fillRule="evenodd" clipRule="evenodd" d="M15.8857 4.36267C15.8596 4.37805 15.8323 4.40256 15.8089 4.44966L12.3455 11.4259C12.1995 11.72 11.9185 11.9237 11.5937 11.9709L3.84852 13.0965C3.66837 13.1227 3.61293 13.3308 3.73001 13.4442L9.33335 18.8706C9.57086 19.1007 9.67932 19.4332 9.62312 19.759L8.30072 27.4252C8.29191 27.4763 8.29958 27.5106 8.31077 27.5364C8.32365 27.5661 8.34752 27.5976 8.38303 27.6232C8.41853 27.6489 8.45734 27.6626 8.4925 27.6658C8.5236 27.6687 8.56194 27.6647 8.6106 27.6393L15.5366 24.0178C15.8269 23.866 16.1731 23.866 16.4634 24.0178L23.3894 27.6393C23.4381 27.6647 23.4764 27.6687 23.5075 27.6658C23.5427 27.6626 23.5815 27.6489 23.617 27.6232C23.6525 27.5976 23.6764 27.5661 23.6892 27.5364C23.7004 27.5106 23.7081 27.4763 23.6993 27.4252L22.3769 19.759C22.3207 19.4332 22.4292 19.1007 22.6667 18.8706L28.27 13.4442C28.3871 13.3308 28.3316 13.1227 28.1515 13.0965L20.4064 11.9709C20.0815 11.9237 19.8005 11.72 19.6545 11.4259L16.1911 4.44966C16.1677 4.40256 16.1404 4.37805 16.1143 4.36267C16.0846 4.34516 16.045 4.33331 16 4.33331C15.955 4.33331 15.9154 4.34516 15.8857 4.36267ZM14.0175 3.56033C14.8297 1.92431 17.1703 1.92431 17.9825 3.56033L21.2128 10.0671L28.4391 11.1173C30.2464 11.3799 30.9831 13.6008 29.6613 14.8809L24.4376 19.9397L25.6702 27.0852C25.983 28.8989 24.0741 30.2542 22.4627 29.4116L16 26.0324L9.53733 29.4116C7.9259 30.2542 6.01698 28.8989 6.32983 27.0852L7.5624 19.9397L2.33866 14.8809C1.01687 13.6008 1.75356 11.3799 3.56088 11.1173L10.7872 10.0671L14.0175 3.56033Z" fill="#FFA600"/>
    </svg>
);

const emptyStar = (
    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.4502 10.981L14.9135 4.00469C15.3581 3.10911 16.6425 3.10911 17.0871 4.00469L20.5505 10.981L28.2956 12.1066C29.2894 12.251 29.6854 13.4655 28.966 14.1622L23.3627 19.5887L24.6851 27.2549C24.8549 28.2394 23.8155 28.9901 22.9264 28.5252L16.0003 24.9037L9.07429 28.5252C8.18512 28.9901 7.14578 28.2394 7.3156 27.2549L8.638 19.5887L3.03466 14.1622C2.31522 13.4655 2.71129 12.251 3.70502 12.1066L11.4502 10.981Z" fill="#02040F" fillOpacity="0.15"/>
        <path fillRule="evenodd" clipRule="evenodd" d="M15.8859 4.36236C15.8598 4.37775 15.8324 4.40226 15.809 4.44935L12.3457 11.4256C12.1997 11.7197 11.9187 11.9234 11.5938 11.9706L3.84864 13.0962C3.66849 13.1224 3.61305 13.3305 3.73014 13.4439L9.33348 18.8703C9.57098 19.1003 9.67945 19.4329 9.62324 19.7587L8.30085 27.4249C8.29203 27.476 8.2997 27.5103 8.31089 27.5361C8.32377 27.5658 8.34764 27.5973 8.38315 27.6229C8.41866 27.6486 8.45746 27.6623 8.49262 27.6655C8.52373 27.6684 8.56206 27.6644 8.61072 27.639L15.5368 24.0175C15.827 23.8657 16.1732 23.8657 16.4635 24.0175L23.3895 27.639C23.4382 27.6644 23.4765 27.6684 23.5076 27.6655C23.5428 27.6623 23.5816 27.6486 23.6171 27.6229C23.6526 27.5973 23.6765 27.5658 23.6894 27.5361C23.7006 27.5103 23.7082 27.476 23.6994 27.4249L22.377 19.7587C22.3208 19.4329 22.4293 19.1003 22.6668 18.8703L28.2701 13.4439C28.3872 13.3305 28.3318 13.1224 28.1516 13.0962L20.4065 11.9706C20.0816 11.9234 19.8006 11.7197 19.6546 11.4256L16.1912 4.44935C16.1679 4.40226 16.1405 4.37775 16.1144 4.36236C16.0847 4.34486 16.0451 4.33301 16.0001 4.33301C15.9552 4.33301 15.9156 4.34486 15.8859 4.36236ZM14.0176 3.56002C14.8298 1.924 17.1704 1.924 17.9826 3.56002L21.2129 10.0668L28.4392 11.117C30.2466 11.3796 30.9833 13.6005 29.6615 14.8806L24.4377 19.9394L25.6703 27.0849C25.9832 28.8986 24.0742 30.2539 22.4628 29.4113L16.0001 26.0321L9.53745 29.4113C7.92602 30.2539 6.0171 28.8986 6.32995 27.0849L7.56253 19.9394L2.33878 14.8806C1.017 13.6005 1.75368 11.3796 3.561 11.117L10.7874 10.0668L14.0176 3.56002Z" fill="#02040F" fillOpacity="0.15"/>
    </svg>
);

const StarRating: React.FC<{ onRate?: (rating: number) => void }> = ({ onRate }) => {
    const [rating, setRating] = useState(0);

    const handleClick = (index: number) => {
        setRating(index);
        if (onRate) onRate(index);
    };

    return (
        <div style={{ display: 'flex', gap: '8px', cursor: 'pointer' }}>
            {[1, 2, 3, 4, 5].map(index => (
                <span
                    key={index}
                    onClick={() => handleClick(index)}
                >
                    { rating >= index ? filledStar : emptyStar }
                </span>
            ))}
        </div>
    );
};

export default StarRating;
